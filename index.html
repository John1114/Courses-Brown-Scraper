<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Tags to overcome the github cache problem (https://stackoverflow.com/questions/24851824/how-long-does-it-take-for-github-page-to-show-changes-after-changing-index-html)-->
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

    <!-- Our CSS file-->
    <link rel="stylesheet" href="styles.css">

    <!-- D3 JS file-->
    <script src="https://d3js.org/d3.v4.js"></script>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="https://john1114.github.io/Courses-Brown-Scraper/minecraft_bear.png"/>

    <title>Hello, world!</title>

  </head>
  <body>
    <!-- Navbar -->
  	<nav class="navbar navbar-light" style="background-color: #cfcfcf; color: black;">
      <a class="navbar-brand" href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
        <img src="https://john1114.github.io/Courses-Brown-Scraper/minecraft_bear.png" width="30" height="30" class="d-inline-block align-top" alt="">
        Courses @ Brown 2.0
      </a>
    </nav>
    <br>
    <!-- Cards -->
    <div class="container-fluid">
      <div class="row justify-content-center">
        <div class="col-4">
          <div class="card">
            <div class="card-body">
              <form>
                <div class="form-group">
                  <label for="formGroupExampleInput">Search for your course (enter course code):</label>
                  <input type="text" class="form-control" id="courseFeild" value="" placeholder="Eg. CSCI 0170" onchange="setCookie()">
                  <br>
                  <button type="button" class="btn-grey btn" onclick="searchCourse();">Search</button>
                </div>
              </form>
              <hr>
              <div class="list-group">
                <div class="list-group-item list-group-item-action list-group-item-secondary" id="resultCourse1">
                  <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">CSCI 0200: Program Design with Data Structures and Algorithms</h5>
                  </div>
                  <small>Students extend their program-design skills while learning multiple data structures, common graph algorithms, different forms of societal impacts from programs, how to analyze programs for performance, and how to work effectively with multiple styles of programming languages. Examples and course projects draw from several areas of computer science to help students identify their broader interests within the field. There will be a required weekly lab session involving hands-on work with course material. Prerequisite: CSCI 0112, CSCI 0150, 0170, or CSCI 0190. In addition, CSCI 0111 can be used with both additional work and the instructor's permission. The first two weeks of the course will be taught as at least two parallel tracks based on which prerequisite course a student has taken.</small>
                </div>
                <a href="#" class="list-group-item list-group-item-action" id="resultCourse2">
                  <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small class="text-muted">3 days ago</small>
                  </div>
                  <p class="mb-1">Some placeholder content in a paragraph.</p>
                  <small class="text-muted">And some muted small print.</small>
                </a>
                <a href="#" class="list-group-item list-group-item-action" id="resultCourse3">
                  <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small class="text-muted">3 days ago</small>
                  </div>
                  <p class="mb-1">Some placeholder content in a paragraph.</p>
                  <small class="text-muted">And some muted small print.</small>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-7">
          <div class="card">
            <h5 class="card-header">Course Map</h5>
            <div class="card-body">
              <p> Diagram of Courses using JS will be here</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript Source -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

    <!-- Our JavaScript File-->
    <script src="lemagic.js"></script>
    <script type="text/javascript">
      d3.csv("http://localhost/Courses-Brown-Scraper/courses2.csv", function(error, data) {
        if (error) throw error;
            console.log(data);
            //format data if required...
            //draw chart
      });
      let course_code = document.cookie.split('=')[1];
      document.getElementById("courseFeild").value = course_code;
      if (course_code == "") {
        document.getElementById("resultCourse1").hidden = true
        document.getElementById("resultCourse2").hidden = true
        document.getElementById("resultCourse3").hidden = true
        console.log("a"+course_code)
      } else {
        document.getElementById("resultCourse1").hidden = false
        document.getElementById("resultCourse2").hidden = false
        document.getElementById("resultCourse3").hidden = false
        console.log("b"+course_code)
      }
      function searchCourse() {
        console.log("what")
        document.cookie = "code="+document.getElementById("courseFeild").value;
        let course_code = document.cookie.split('=')[1];
        window.location.href="http://localhost/Courses-Brown-Scraper/index.html";
      }
      function setCookie() {
        console.log("what2")
        document.cookie = "code="+document.getElementById("courseFeild").value;
        let course_code = document.cookie.split('=')[1];
      }
    </script>
  </body>
</html>
